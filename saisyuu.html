<!DOCTYPE html>
<html>
	<style>
    </style>
  <head>
    <meta charset="utf-8" />
    
    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.152.2/build/three.module.js"
        }
      }
    </script>
    <script type="module">
      import * as THREE from "three";

      // サイズを指定
      const width = 960;
      const height = 540;

      // レンダラーを作成
      const renderer = new THREE.WebGLRenderer({
        canvas: document.querySelector("#myCanvas"),
      });
      renderer.setPixelRatio(window.devicePixelRatio);
      renderer.setSize(width, height);
      renderer.setClearColor(0xDDFFFF);

      // シーンを作成
      const scene = new THREE.Scene();
      scene.fog = new THREE.Fog(0xf9f9f9, 200, 300);

      // カメラを作成
      const camera = new THREE.PerspectiveCamera(45, width / height);

      // マテリアルを作成する
      const material = new THREE.SpriteMaterial({
        map: new THREE.TextureLoader().load("kumo1.png"),
      });
      // フォグ（霞）を有効にする
      material.fog = true;

      // ビルボードを作成
      for (let i = 0; i< 50; i++) {
        const sprite = new THREE.Sprite(material);
        // ランダムな座標に配置
        sprite.position.x = 500 * (Math.random() - 0.5);
        sprite.position.y = 100 * Math.random() +50;
        sprite.position.z = 500 * Math.random()-0.5;
        // 必要に応じてスケールを調整
        sprite.scale.set(300, 300, 300);

        scene.add(sprite);
      }
      const geometry1 = new THREE.SphereGeometry(300, 0, 0);
const material1 = new THREE.MeshStandardMaterial({color: 0xFF0000});
// メッシュを作成
const mesh1 = new THREE.Mesh(geometry1, material1);
// 3D空間にメッシュを追加
scene.add(mesh1);

      
	
	// マテリアルを作成
	 const geometry2 = new THREE.SphereGeometry(300, 30, 30);
      // マテリアルを作成
      const material2 = new THREE.MeshStandardMaterial({ color: 0xff0000 });
      // メッシュを作成
      const mesh2 = new THREE.Mesh(geometry2, material2);
      // 3D空間にメッシュを追加
      scene.add(mesh2);
	// 木テクスチャー読み込み
	const loader = new THREE.TextureLoader();
const texture = loader.load('tree0.png');
// マテリアルにテクスチャーを設定
const materialtree = new THREE.SpriteMaterial({
  map: texture
});	



      // 地面を作成
 const plane = new THREE.GridHelper(300, 10, 0x888888, 0x888888);
      plane.position.y = -40;
      scene.add(plane);      
      tick();
      // 木テクスチャー読み込み

// ドーナツを作成
const geometry3= new THREE.TorusGeometry(500, 100, 64, 100);
// マテリアルを作成
const material3 = new THREE.MeshBasicMaterial({color: 0x6699FF});
// メッシュを作成
const mesh3 = new THREE.Mesh(geometry2, material2);
// 3D空間にメッシュを追加
scene.add(mesh3);
for (let i = 0; i < 20; i++) {
		const sprite = new THREE.Sprite(materialtree);
		// ランダムな座標に配置
		sprite.position.x = 100 * (Math.random() - 0.5);
		sprite.position.y = 1* Math.random()-30;
		sprite.position.z = 100* (Math.random() - 0.5);
		// スケールを調整
		sprite.scale.set(20, 20, 10);
		scene.add(sprite);
	}
 createStarField();

      function createStarField() {
        // 頂点情報を格納する配列
        const vertices = [];

        // 配置する範囲
        const SIZE1 = 3000;
        // 配置する個数
        const LENGTH1 = 100000;
         for (let i = 0; i < LENGTH1; i++) {
          const x = SIZE1 * (Math.random() - 0.5);
          const y = SIZE1 * (Math.random() - 0.5);
          const z = SIZE1 * (Math.random() - 0.5);

          vertices.push(x, y, z);
        }


			// マテリアルを作成
	 const geometry3 = new THREE.SphereGeometry(300, 30, 30);
      // マテリアルを作成
      const material3 = new THREE.MeshStandardMaterial({ color: 0xFF4500});
      // メッシュを作成
      const mesh3= new THREE.Mesh(geometry3, material3);
      // 3D空間にメッシュを追加

		scene.add(mesh3);
		
		
		
        // 形状データを作成
        const geometry1 = new THREE.BufferGeometry();
        geometry1.setAttribute("position", new THREE.Float32BufferAttribute(vertices, 3));

        // マテリアルを作成
        const material1 = new THREE.PointsMaterial({
          // 一つ一つのサイズ
          size: 10,
          // 色
          color: 0xffffff,
        });

        // 物体を作成
        const mesh = new THREE.Points(geometry1, material1);
        scene.add(mesh);
      }	
      // ドーナツを作成
const geometry4 = new THREE.TorusGeometry(500, 100, 64, 100);
// マテリアルを作成
const material4 = new THREE.MeshBasicMaterial({color: 0x6699FF});
// メッシュを作成
const mesh4 = new THREE.Mesh(geometry2, material2);
// 3D空間にメッシュを追加
scene.add(mesh4);

// 物体を作成
const mesh = new THREE.Points(geometry1, material1);
scene.add(mesh); // シーンは任意の THREE.Scene インスタンス
      // 毎フレーム時に実行されるループイベントです
      function tick() {
        // カメラの自動移動
        camera.position.x = 100 * Math.sin(Date.now() / 2000);
        camera.position.z = 100 * Math.cos(Date.now() / 2000);
        camera.position.y = 50 * Math.sin(Date.now() / 1000) + 60;
        camera.lookAt(new THREE.Vector3(0, 0, 0));
		
		
		 
        // レンダリング
        renderer.render(scene, camera);
        requestAnimationFrame(tick);
      }
       
    </script>
  </head>
  <body>
    <canvas id="myCanvas"></canvas>
  </body>
</html>
